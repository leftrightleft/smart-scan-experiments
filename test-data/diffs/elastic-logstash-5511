diff --git a/logstash-core/lib/logstash/environment.rb b/logstash-core/lib/logstash/environment.rb
index 9f1777498fd..560629ff47f 100644
--- a/logstash-core/lib/logstash/environment.rb
+++ b/logstash-core/lib/logstash/environment.rb
@@ -2,6 +2,7 @@
 require "logstash/errors"
 require "logstash/config/cpu_core_strategy"
 require "logstash/settings"
+require "socket"
 
 module LogStash
 
